<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.web.WebView?>

<AnchorPane prefHeight="700.0" prefWidth="1145.0" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controlles.FrontFeedController">
    <children>
        <!-- Navbar -->
        <Pane prefHeight="60.0" prefWidth="1145.0" style="-fx-background-color: #2E8B57;">
            <children>
                <Label layoutX="14.0" layoutY="10.0" styleClass="navbar-title" text="ðŸŒ¿ Green Grow" />
                <Button layoutX="186.0" layoutY="10.0" onAction="#accueilFront" styleClass="nav-button" text="Accueil" />
                <Button layoutX="308.0" layoutY="10.0" onAction="#InscFront" styleClass="nav-button" text="Inscription" />
                <Button layoutX="460.0" layoutY="10.0" onAction="#FrontProduit" styleClass="nav-button" text="Produits" />
                <Button fx:id="mesReclamationsButton" layoutX="580.0" layoutY="10.0" onAction="#handleMesReclamations" styleClass="nav-button" text="Mes RÃ©clamations" />
                <Button fx:id="supervisionButton" layoutX="750.0" layoutY="10.0" onAction="#handleSupervision" styleClass="nav-button" text="Supervision" />
                <Button fx:id="loginButton" layoutX="1006.0" layoutY="12.0" onAction="#loginFront" styleClass="nav-button" text="Login" />
                <Label fx:id="nomLabel" layoutX="955.0" layoutY="17.0" prefHeight="30.0" prefWidth="67.0" styleClass="navbar-title" />
                <Label fx:id="prenomLabel" layoutX="1035.0" layoutY="17.0" prefHeight="30.0" prefWidth="67.0" styleClass="navbar-title" />
                <Button fx:id="plusButton" layoutX="1105.0" layoutY="13.0" onAction="#handlePlusButton" text="+" />
            </children>
        </Pane>

        <!-- Contenu du formulaire -->
        <VBox alignment="TOP_CENTER" layoutY="60.0" prefHeight="930.0" prefWidth="1145.0" spacing="25">
            <padding>
                <Insets bottom="40" left="40" right="40" top="40" />
            </padding>
            
            <!-- En-tÃªte -->
            <VBox alignment="CENTER" spacing="10">
                <Text styleClass="section-title" text="Formulaire de Feedback" />
                <Text styleClass="section-subtitle" text="Nous apprÃ©cions vos commentaires pour amÃ©liorer nos services" />
            </VBox>
            
            <!-- Formulaire -->
            <VBox maxWidth="600" spacing="20" styleClass="card">
                <!-- Nom -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Nom *" />
                    <TextField fx:id="nameField" promptText="Votre nom complet" styleClass="textfield" />
                    <Label fx:id="nameErrorLabel" styleClass="error-label" />
                </VBox>
                
                <!-- Email -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Email *" />
                    <TextField fx:id="emailField" promptText="Votre adresse email" styleClass="textfield" />
                    <Label fx:id="emailErrorLabel" styleClass="error-label" />
                </VBox>
                
                <!-- Sujet -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Sujet *" />
                    <TextField fx:id="subjectField" promptText="Le sujet de votre message" styleClass="textfield" />
                    <Label fx:id="subjectErrorLabel" styleClass="error-label" />
                </VBox>
                
                <!-- Message -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Message *" />
                    <TextArea fx:id="commentField" prefHeight="150.0" promptText="Votre message" styleClass="textarea" wrapText="true" />
                    <Label fx:id="commentErrorLabel" styleClass="error-label" />
                    <Label fx:id="characterCountLabel" styleClass="character-count" />
                </VBox>

                <!-- Captcha -->
                <VBox spacing="8">
                    <WebView fx:id="captchaWebView" prefHeight="100" />
                    <Label fx:id="captchaErrorLabel" styleClass="error-label" />
                </VBox>

                <!-- Submit Button -->
                <Button fx:id="submitButton" onAction="#handleSubmit" styleClass="submit-button" text="Envoyer" />
            </VBox>
        </VBox>

        <!-- Menu utilisateur -->
        <VBox fx:id="userMenuBox" layoutX="1015.0" layoutY="57.0" prefHeight="113.0" prefWidth="137.0" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: gray;" visible="false">
            <children>
                <Button onAction="#viewProfile" prefHeight="35.0" prefWidth="118.0" text="ðŸ‘¤ Profil" />
                <Button mnemonicParsing="false" style="-fx-background-color: white;" />
                <Button onAction="#handleLogout" prefHeight="23.0" prefWidth="115.0" text="ðŸ”“ DÃ©connexion" />
            </children>
        </VBox>
    </children>
</AnchorPane>
