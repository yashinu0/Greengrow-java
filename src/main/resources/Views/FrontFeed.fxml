<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.web.WebView?>

<AnchorPane prefHeight="700.0" prefWidth="1145.0" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controlles.FrontFeedController">
    <children>
        <!-- Navbar -->
        <Pane prefHeight="60.0" prefWidth="1169.0" style="-fx-background-color: linear-gradient(to right, #2E8B57, #3CB371); -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 10, 0, 0, 3);">
            <children>
                 <Label layoutX="10.0" layoutY="15.0" style="-fx-font-size: 24px; -fx-text-fill: white; -fx-font-weight: bold;" styleClass="navbar-title" text="ðŸŒ¿ Green Grow" />
                <HBox alignment="CENTER_LEFT" layoutX="193.0" layoutY="11.0" spacing="30">
                    <children>
                        <Button layoutY="0.0" onAction="#accueilFront" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: white; -fx-border-width: 0 0 2 0;" styleClass="nav-button" text="Accueil" />
                        <Button layoutY="0.0" onAction="#InscFront" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: white; -fx-border-width: 0 0 2 0;" styleClass="nav-button" text="Inscription" />
                        <Button layoutY="0.0" onAction="#FrontProduit" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: white; -fx-border-width: 0 0 2 0;" styleClass="nav-button" text="Produits" />
                        <Button fx:id="mesReclamationsButton" layoutY="0.0" onAction="#handleMesReclamations" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: white; -fx-border-width: 0 0 2 0;" styleClass="nav-button" text="Mes RÃ©clamations" />
                        <Button fx:id="supervisionButton" layoutY="0.0" onAction="#handleSupervision" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: white; -fx-border-width: 0 0 2 0;" styleClass="nav-button" text="Supervision" />
                    </children>
                </HBox>
                <Label fx:id="nomLabel" layoutX="852.0" layoutY="18.0" prefHeight="30.0" prefWidth="82.0" style="-fx-text-fill: white; -fx-font-weight: bold;" styleClass="navbar-title" />
                <Label fx:id="prenomLabel" layoutX="925.0" layoutY="18.0" prefHeight="30.0" prefWidth="76.0" style="-fx-text-fill: white; -fx-font-weight: bold;" styleClass="navbar-title" />
                <Button fx:id="plusButton" layoutX="1123.0" layoutY="10.0" onAction="#handlePlusButton" style="-fx-background-color: white; -fx-text-fill: #2E8B57; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 15px;" text="+" />
            </children>
        </Pane>

        <!-- Contenu du formulaire -->
        <VBox alignment="TOP_CENTER" layoutY="60.0" prefHeight="930.0" prefWidth="1145.0" spacing="25">
            <padding>
                <Insets bottom="40" left="40" right="40" top="40" />
            </padding>
            
            <!-- En-tÃªte -->
            <VBox alignment="CENTER" spacing="10">
                <Text styleClass="section-title" text="Formulaire de Feedback" />
                <Text styleClass="section-subtitle" text="Nous apprÃ©cions vos commentaires pour amÃ©liorer nos services" />
            </VBox>
            
            <!-- Formulaire -->
            <VBox maxWidth="600" spacing="20" styleClass="card">
                <!-- Nom -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Nom *" />
                    <TextField fx:id="nameField" promptText="Votre nom complet" styleClass="textfield" />
                    <Label fx:id="nameErrorLabel" styleClass="error-label" />
                </VBox>
                
                <!-- Email -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Email *" />
                    <TextField fx:id="emailField" promptText="Votre adresse email" styleClass="textfield" />
                    <Label fx:id="emailErrorLabel" styleClass="error-label" />
                </VBox>
                
                <!-- Sujet -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Sujet *" />
                    <TextField fx:id="subjectField" promptText="Le sujet de votre message" styleClass="textfield" />
                    <Label fx:id="subjectErrorLabel" styleClass="error-label" />
                </VBox>
                
                <!-- Message -->
                <VBox spacing="8">
                    <Label style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Message *" />
                    <TextArea fx:id="commentField" prefHeight="150.0" promptText="Votre message" styleClass="textarea" wrapText="true" />
                    <Label fx:id="commentErrorLabel" styleClass="error-label" />
                    <Label fx:id="characterCountLabel" styleClass="character-count" />
                </VBox>

                <!-- Captcha -->
                <VBox spacing="8">
                    <WebView fx:id="captchaWebView" prefHeight="241.0" prefWidth="578.0" />
                    <Label fx:id="captchaErrorLabel" styleClass="error-label" />
                </VBox>

                <!-- Submit Button -->
                <Button fx:id="submitButton" onAction="#handleSubmit" prefHeight="35.0" prefWidth="631.0" styleClass="submit-button" text="Envoyer" />
            </VBox>
        </VBox>

        <!-- Menu utilisateur -->
        <VBox fx:id="userMenuBox" layoutX="1015.0" layoutY="57.0" prefHeight="113.0" prefWidth="137.0" style="-fx-background-color: white; -fx-padding: 10; -fx-border-color: gray;" visible="false">
            <children>
                <Button onAction="#viewProfile" prefHeight="35.0" prefWidth="118.0" text="ðŸ‘¤ Profil" />
                <Button mnemonicParsing="false" style="-fx-background-color: white;" />
                <Button onAction="#handleLogout" prefHeight="23.0" prefWidth="115.0" text="ðŸ”“ DÃ©connexion" />
            </children>
        </VBox>
    </children>
</AnchorPane>
